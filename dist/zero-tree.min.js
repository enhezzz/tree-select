!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ZeroTree=t():e.ZeroTree=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=11)}([function(e,t){e.exports=function(e,t,n,r,o){var i,c=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,c=e.default);var a="function"==typeof c?c.options:c;t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),r&&(a._scopeId=r);var d;if(o?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},a._ssrRegister=d):n&&(d=n),d){var l=a.functional,h=l?a.render:a.beforeCreate;l?a.render=function(e,t){return d.call(t),h(e,t)}:a.beforeCreate=h?[].concat(h,d):[d]}return{esModule:i,exports:c,options:a}}},function(e,t,n){"use strict";var r=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r);o.default.install=function(e){if(!document.getElementById("zero-tree-icon")){var t=document.createElement("div");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;" id="zero-tree-icon">\n            <symbol id="down" viewBox="0 0 1024 1024">\n                <defs><style type="text/css"></style></defs><path d="M45.376 481.088l933.856 0c17.184 0 31.136 13.952 31.136 31.136s-13.952 31.136-31.136 31.136l-933.856 0c-17.184 0-31.136-13.952-31.136-31.136s13.92-31.136 31.136-31.136z" p-id="9230"></path>\n            </symbol>\n            <symbol id="right" viewBox="0 0 1024 1024">\n                <defs><style type="text/css"></style></defs><path d="M979.232 532.96l-425.408 0 0 446.176c0 17.184-13.92 31.136-31.136 31.136s-31.136-13.952-31.136-31.136l0-446.176-446.176 0c-17.184 0-31.136-13.952-31.136-31.136s13.92-31.136 31.136-31.136l446.176 0 0-425.408c0-17.184 13.92-31.136 31.136-31.136s31.136 13.952 31.136 31.136l0 425.408 425.408 0c17.184 0 31.136 13.952 31.136 31.136s-13.92 31.136-31.136 31.136z" p-id="9116"></path>\n            </symbol>\n        </svg>',document.body.appendChild(t)}e.component("zero-tree",o.default)},e.exports=o.default},function(e,t,n){"use strict";function r(e){var t=void 0,n=!1,r=[];return function(){for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];if(r.push(i),!n){for(n=!0;r.length;)t=e.apply(this,r.shift());return n=!1,t}return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.tco=r},function(e,t,n){"use strict";function r(e,t){var n=this;this.root=e.root||[],this.options=Object.assign({},e),this.datas={},this.len=0;var r=(0,o.tco)(function(e,o){for(var i=0,c=e.length;i<c;i++){n.len++;var s=e[i];s.parentId=o;var a=s[n.options.treeKey];if(n.datas[a])throw new Error("nodeId repeat:"+a);n.datas[s[n.options.treeKey]]=s,void 0===s.checked&&t(s,"checked",!1),s[n.options.children]&&s[n.options.children].length>0&&(void 0===s.open&&t(s,"open",!1),r(s[n.options.children],s[n.options.treeKey]))}});if(r(this.root,null),this.len>2e3)throw this.datas=null,this.root=[],new Error("node len > 2000 clear root len:"+this.len)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(2);r.prototype.changeCheckStatus=function(e){var t=this,n=(0,o.tco)(function(e){if(e.checked&&e.parentId){var r=t.getNode(e.parentId);if(r)return r.checked=t.sameSilibingChecked(r,e[t.options.treeKey]),n(r)}else if(!e.checked&&e.parentId){var o=t.getNode(e.parentId);if(o&&(o.checked=!1,o.parentId))return n(o)}return!0}),r=(0,o.tco)(function(e){var n=e[t.options.children];if(n&&n.length>0)for(var o=0,i=n.length;o<i;o++){var c=n[o];c.checked=e.checked,r(c)}});e&&e.parentId&&n(e),e&&r(e)},r.prototype.getNode=function(e){return this.datas[e]},r.prototype.sameSilibingChecked=function(e,t){if(!e)return!1;var n=e[this.options.children];if(!n)return!1;for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i[this.options.treeKey]!==t&&!i.checked)return!1}return!0},r.prototype.getCheckIds=function(){var e=[];for(var t in this.datas){var n=this.datas[t];n.checked&&e.push(n[this.options.treeKey])}return e},r.prototype.changeCheckByKey=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;e.forEach(function(e){n.datas[e]&&(n.datas[e].checked=t)})},r.prototype.checkAll=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t in this.datas){var n=this.datas[t];n.checked!==e&&(n.checked=e)}},r.prototype.checkNodeDeep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.datas[e];return!!n&&(n.checked=t,this.changeCheckStatus(n),!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"zero-tree-node",props:{treeData:{type:Array,required:!0},options:{type:Object,default:{}},level:{type:Number,default:1}},data:function(){return{}},computed:{nodeData:function(){return this.treeData.slice(0)}},created:function(){var e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree},methods:{handleNodeExpand:function(e){e.open=!e.open},handlecheckedChange:function(e){var t=this;this.$nextTick(function(){t.$emit("handlecheckedChange",e)})},handleNode:function(e){this.tree.$emit("node-click",e)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=r(o),c=n(3),s=r(c);t.default={components:{ZeroTreeNode:i.default},name:"zero-tree",props:{treeData:{type:Array,required:!0},options:{type:Object,default:function(){return{children:"children",label:"label",treeKey:"id",showCheckbox:!0}}},value:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{isTree:!0,propChange:!0}},watch:{value:function(e){var t=this;this.propChange?(this.treeStore.checkAll(!1),setTimeout(function(){t.treeStore.changeCheckByKey(e,!0)},0)):this.propChange=!0}},computed:{treeStore:function(){return new s.default(Object.assign({root:this.treeData.slice(0),children:"children",label:"label",treeKey:"id",showCheckbox:!0},this.options),this.$set)}},created:function(){},methods:{handlecheckedChange:function(e){this.treeStore.changeCheckStatus(e),this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handlecheckedChange",e)}}}},function(e,t){},function(e,t,n){function r(e){n(6)}var o=n(0)(n(4),n(9),r,"data-v-54b16c71",null);e.exports=o.exports},function(e,t,n){var r=n(0)(n(5),n(10),null,null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"zero-tree-node"},e._l(e.nodeData,function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.disable,expression:"!item.disable"}],class:[t[e.options.children]&&t[e.options.children].length>0?"folder":"file","level-"+e.level]},[t[e.options.children]&&t[e.options.children].length>0?n("svg",{staticClass:"icon",on:{click:function(n){e.handleNodeExpand(t)}}},[t.open?n("use",{attrs:{"xlink:href":"#down"}}):n("use",{attrs:{"xlink:href":"#right"}})]):e._e(),e.options.showCheckbox?n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{click:function(n){n.stopPropagation(),e.handlecheckedChange(t)},__c:function(n){var r=t.checked,o=n.target,i=!!o.checked;if(Array.isArray(r)){var c=e._i(r,null);i?c<0&&(t.checked=r.concat(null)):c>-1&&(t.checked=r.slice(0,c).concat(r.slice(c+1)))}else t.checked=i}}}):e._e(),n("span",{class:{"node-selected":t.checked&&!e.options.showCheckbox},on:{click:function(n){e.handleNode(t)}}},[e._v("\n            "+e._s(t.label)+"\n        ")]),e._v(" "),t[e.options.children]&&t[e.options.children].length>0?n("zero-tree-node",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"item.open"}],attrs:{options:e.options,"tree-data":t[e.options.children],level:e.level+1},on:{handlecheckedChange:e.handlecheckedChange}}):e._e()],1)}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"zero-tree"},[n("zero-tree-node",{attrs:{treeData:e.treeStore.root,options:e.options},on:{handlecheckedChange:e.handlecheckedChange}})],1)},staticRenderFns:[]}},function(e,t,n){e.exports=n(1)}])});