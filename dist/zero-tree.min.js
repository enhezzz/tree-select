!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ZeroTree=t():e.ZeroTree=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=12)}([function(e,t){e.exports=function(e,t,n,o,r){var i,s=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(i=e,s=e.default);var a="function"==typeof s?s.options:s;t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),o&&(a._scopeId=o);var h;if(r?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},a._ssrRegister=h):n&&(h=n),h){var d=a.functional,l=d?a.render:a.beforeCreate;d?a.render=function(e,t){return h.call(t),l(e,t)}:a.beforeCreate=l?[].concat(l,h):[h]}return{esModule:i,exports:s,options:a}}},function(e,t,n){"use strict";var o=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(o);r.default.install=function(e,t){if(!document.getElementById("zero-tree-icon")){var n=document.createElement("div");n.innerHTML=t||'<svg xmlns="http://www.w3.org/2000/svg" style="display: none;" id="zero-tree-icon">\n            <symbol id="right" viewBox="0 0 1025 1024">\n                <defs><style type="text/css"></style></defs><path d="M895.531061 485.788536 535.640488 485.788536 535.640488 125.897963c0-13.5716-11.001648-24.573248-24.573248-24.573248s-24.573248 11.001648-24.573248 24.573248l0 359.890572L126.604444 485.788536c-13.5716 0-24.573248 11.001648-24.573248 24.573248s11.001648 24.573248 24.573248 24.573248l359.889548 0 0 359.890572c0 13.5716 11.001648 24.573248 24.573248 24.573248s24.573248-11.001648 24.573248-24.573248L535.640488 534.934007l359.890572 0c13.5716 0 24.573248-11.001648 24.573248-24.573248S909.102661 485.788536 895.531061 485.788536z" p-id="1874"></path>\n            </symbol>\n            <symbol id="down" viewBox="0 0 1025 1024">\n                <defs><style type="text/css"></style></defs><path d="M895.531061 534.934007 126.604444 534.934007c-13.5716 0-24.573248-11.001648-24.573248-24.573248s11.001648-24.573248 24.573248-24.573248l768.926616 0c13.5716 0 24.573248 11.001648 24.573248 24.573248S909.102661 534.934007 895.531061 534.934007z" p-id="1760"></path>\n            </symbol>\n            <symbol id="check" viewBox="0 0 1024 1024">\n                <defs><style type="text/css"></style></defs><path d="M461.973333 586.325333l-105.642666-105.642666a21.248 21.248 0 0 0-30.122667 0.042666c-8.32 8.32-8.213333 21.973333-0.064 30.101334l120.810667 120.832a21.248 21.248 0 0 0 30.122666-0.085334l211.157334-211.157333a21.290667 21.290667 0 0 0 0-30.186667 21.397333 21.397333 0 0 0-30.250667 0.106667l-196.010667 195.989333z" fill="#3D3D3D" p-id="3093"></path><path d="M149.333333 874.602667L874.602667 874.666667 874.666667 149.397333 149.397333 149.333333 149.333333 874.602667zM106.666667 149.397333C106.666667 125.802667 125.909333 106.666667 149.397333 106.666667h725.205334C898.197333 106.666667 917.333333 125.909333 917.333333 149.397333v725.205334A42.794667 42.794667 0 0 1 874.602667 917.333333H149.397333A42.794667 42.794667 0 0 1 106.666667 874.602667V149.397333z" fill="#3D3D3D" p-id="3094"></path>\n            </symbol>\n            <symbol id="uncheck" viewBox="0 0 1024 1024">\n                <defs><style type="text/css"></style></defs><path d="M149.333333 874.602667L874.602667 874.666667 874.666667 149.397333 149.397333 149.333333 149.333333 874.602667zM106.666667 149.397333C106.666667 125.802667 125.909333 106.666667 149.397333 106.666667h725.205334C898.197333 106.666667 917.333333 125.909333 917.333333 149.397333v725.205334A42.794667 42.794667 0 0 1 874.602667 917.333333H149.397333A42.794667 42.794667 0 0 1 106.666667 874.602667V149.397333z" fill="#3D3D3D" p-id="3208"></path>\n            </symbol>\n        </svg>',document.body.appendChild(n)}if(e&&e.component("zero-tree",r.default),!Object.assign){var o=function(){for(var e=arguments.length<=0?void 0:arguments[0],t=void 0,n=void 0,o=1,r=arguments.length;o<r;o+=1){t=arguments.length<=o?void 0:arguments[o];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};Object.defineProperty?Object.defineProperty(Object,"assign",{value:o}):Object.assign=o}},e.exports=r.default},function(e,t,n){"use strict";function o(e){var t=void 0,n=!1,o=[];return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];if(o.push(i),!n){for(n=!0;o.length;)t=e.apply(this,o.shift());return n=!1,t}return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.tco=o},function(e,t,n){"use strict";function o(e,t){var n=this;this.root=e.root||[],this.options=Object.assign({},e),this.datas={},this.len=0;var o=(0,r.tco)(function(e,r){for(var i=0,s=e.length;i<s;i++){n.len++;var c=e[i];c.parentId=r;var a=c[n.options.treeKey];if(n.datas[a])throw new Error("nodeId repeat:"+a);n.datas[c[n.options.treeKey]]=c,void 0===c.checked&&t(c,"checked",!1),c[n.options.children]&&c[n.options.children].length>0&&(void 0===c.open&&t(c,"open",!1),o(c[n.options.children],c[n.options.treeKey]))}});if(o(this.root,null),this.len>2e3)throw this.datas=null,this.root=[],new Error("node len > 2000 clear root len:"+this.len)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(2);o.prototype.changeCheckStatus=function(e){var t=this,n=(0,r.tco)(function(e){if(e.checked&&e.parentId){var o=t.getNode(e.parentId);if(o)return o.checked=t.sameSilibingChecked(o,e[t.options.treeKey]),n(o)}else if(!e.checked&&e.parentId){var r=t.getNode(e.parentId);if(r&&(r.checked=!1,r.parentId))return n(r)}return!0}),o=(0,r.tco)(function(e){var n=e[t.options.children];if(n&&n.length>0)for(var r=0,i=n.length;r<i;r++){var s=n[r];s.checked=e.checked,o(s)}});e&&e.parentId&&n(e),e&&o(e)},o.prototype.getNode=function(e){return this.datas[e]},o.prototype.sameSilibingChecked=function(e,t){if(!e)return!1;var n=e[this.options.children];if(!n)return!1;for(var o=0,r=n.length;o<r;o++){var i=n[o];if(i[this.options.treeKey]!==t&&!i.checked)return!1}return!0},o.prototype.getCheckIds=function(){var e=this;return this.getCheckNodes().map(function(t){return t[e.options.treeKey]})},o.prototype.changeCheckByKey=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;e.forEach(function(e){n.datas[e]&&(n.datas[e].checked=t)})},o.prototype.checkAll=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t in this.datas){var n=this.datas[t];n.checked!==e&&(n.checked=e)}},o.prototype.checkNodeDeep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.datas[e];return!!n&&(n.checked=t,this.changeCheckStatus(n),!0)},o.prototype.getCheckLabels=function(){var e=this;return this.getCheckNodes().map(function(t){return t[e.options.label]})},o.prototype.getCheckNodes=function(){var e=[];for(var t in this.datas){var n=this.datas[t];n.checked&&e.push(n)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"zero-tree-node",props:{treeData:{type:Array,required:!0},options:{type:Object,default:{}},level:{type:Number,default:1}},data:function(){return{}},computed:{nodeData:function(){return this.treeData.slice(0)}},created:function(){var e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree},methods:{handleNodeExpand:function(e){e.open=!e.open},handleCheckedChange:function(e,t){var n=this;this.tree?(t||(e.checked=!e.checked),this.tree.handleCheckedChange(e)):(t||(e.checked=!e.checked),this.$nextTick(function(){n.$emit("handleCheckedChange",e,!0)}))},handleNodeCheck:function(e){this.tree?this.tree.handleNodeCheck(e):this.$emit("handleNodeCheck",e)}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=o(r),s=n(3),c=o(s);t.default={components:{ZeroTreeNode:i.default},name:"zero-tree",props:{treeData:{type:Array,required:!0},options:{type:Object,default:function(){return{}}},value:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{isTree:!0,propChange:!0}},watch:{value:function(e){this.propChange?(this.treeStore.checkAll(!1),this.treeStore.changeCheckByKey(e,!0)):this.propChange=!0}},computed:{treeStore:function(){return new c.default(Object.assign({root:this.treeData.slice(0)},this.treeOption),this.$set)},treeOption:function(){return Object.assign({children:"children",label:"label",treeKey:"id",showCheckbox:!0,checkFolder:!1},this.options)}},created:function(){},methods:{handleCheckedChange:function(e){this.treeStore.changeCheckStatus(e),this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handleCheckedChange",e)},handleNodeCheck:function(e){var t=e[this.treeOption.children];t&&t.length>0?this.treeOption.checkFolder&&!this.treeOption.showCheckbox?(e.checked=!e.checked,this.treeStore.changeCheckStatus(e),this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handleCheckedChange")):e.open=!e.open:this.treeOption.showCheckbox||(e.checked=!e.checked,this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handleCheckedChange")),this.$emit("handleNodeCheck")},checkAll:function(e){this.treeStore.checkAll(e),this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handleCheckedChange")},checkKey:function(e,t){this.treeStore.checkNodeDeep(e,t),this.propChange=!1,this.$emit("input",this.treeStore.getCheckIds()),this.$emit("handleCheckedChange")},getCheckLabels:function(){return this.treeStore.getCheckLabels()},getCheckNode:function(){return this.treeStore.getCheckNode()}}}},function(e,t){},function(e,t){},function(e,t,n){function o(e){n(6)}var r=n(0)(n(4),n(10),o,"data-v-54b16c71",null);e.exports=r.exports},function(e,t,n){function o(e){n(7)}var r=n(0)(n(5),n(11),o,"data-v-9c1d12a4",null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"zero-tree-node"},e._l(e.nodeData,function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.disable,expression:"!item.disable"}],class:[t[e.options.children]&&t[e.options.children].length>0?"folder":"file","level-"+e.level]},[n("div",{staticClass:"li-content"},[t[e.options.children]&&t[e.options.children].length>0?n("svg",{staticClass:"icon",on:{click:function(n){n.stopPropagation(),e.handleNodeExpand(t)}}},[t.open?n("use",{attrs:{"xlink:href":"#down"}}):n("use",{attrs:{"xlink:href":"#right"}})]):n("div",{staticClass:"icon-blank"}),e.options.showCheckbox?n("svg",{staticClass:"icon",on:{click:function(n){n.stopPropagation(),e.handleCheckedChange(t)}}},[t.checked?n("use",{attrs:{"xlink:href":"#check"}}):n("use",{attrs:{"xlink:href":"#uncheck"}})]):e._e(),n("div",{staticClass:"li-slot",on:{click:function(n){n.stopPropagation(),e.handleNodeCheck(t)}}},[e._t("default",null,{item:t})],2)]),e._v(" "),n("transition",{attrs:{name:"fold"}},[t[e.options.children]&&t[e.options.children].length>0?n("zero-tree-node",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"item.open"}],attrs:{options:e.options,"tree-data":t[e.options.children],level:e.level+1},on:{handleCheckedChange:e.handleCheckedChange,handleNodeCheck:e.handleNodeCheck},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{item:t.item})]}}])}):e._e()],1)],1)}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"zero-tree"},[n("zero-tree-node",{attrs:{treeData:e.treeStore.root,options:e.treeOption},on:{handleCheckedChange:e.handleCheckedChange,handleNodeCheck:e.handleNodeCheck},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",[n("span",{class:{"node-selected":t.item.checked&&!e.options.showCheckbox}},[e._v(e._s(t.item.label))])],{item:t.item})]}}])})],1)},staticRenderFns:[]}},function(e,t,n){e.exports=n(1)}])});